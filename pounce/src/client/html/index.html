<html>
  <head>
    <meta charset="UTF-8" />
    <title>Pounce!</title>

    <!-- Some simple styles and fonts -->
    <link rel="stylesheet" href="/css/index.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- Load the Phaser game library -->
    <script src="//cdn.jsdelivr.net/npm/phaser@3.11.0/dist/phaser.js"></script>

    <!-- Load the Socket.io networking library -->
    <script src="/socket.io/socket.io.js"></script>

    <!--<script src="/js/cards.js"></script>-->
    <script src="/js/client/app/app.js"></script>

    <script type="text/javascript">
      $(document).ready(function(){
        let $content_div = $('#content_div');
        app.init_module($content_div, null);
      });
    </script>
  </head>
  <body>

    <div id="content_div"></div>


    <!--<script type="text/javascript">-->
      <!--// var deck = new cards.Deck();-->
      <!--// console.log(deck);-->

      <!--// var player = new cards.Player();-->
      <!--// player.set_name('Jim');-->
      <!--// player.setup_new_round(deck);-->
      <!--// console.log(player);-->

      <!--var ASSET_URL =-->
        <!--"https://cdn.glitch.com/0a899590-5b2a-4f4d-bc67-5ae85c2634b1%2F"; //Obtained from the assets folder-->
      <!--//We first initialize the phaser game object-->

      <!--var WORLD_SIZE = { w: 800, h: 600 };-->
      <!--var config = {-->
          <!--type: Phaser.AUTO,-->
          <!--width: WORLD_SIZE.w,-->
          <!--height: WORLD_SIZE.h,-->
          <!--scene: {-->
              <!--preload: preload,-->
              <!--create: create,-->
              <!--update: GameLoop-->
          <!--}-->
      <!--};-->

      <!--var game = new Phaser.Game(config);-->
      <!--var background_sprite = null;-->

      <!--// var water_tiles = [];-->
      <!--// var bullet_array = [];-->
      <!--//-->
      <!--// var player = {-->
      <!--//   sprite: null, //Will hold the sprite when it's created-->
      <!--//   speed_x: 0, // This is the speed it's currently moving at-->
      <!--//   speed_y: 0,-->
      <!--//   speed: 0.5, // This is the parameter for how fast it should move-->
      <!--//   friction: 0.999,-->
      <!--//   shot: false,-->
      <!--//   update: function() {-->
      <!--//     // Lerp rotation towards mouse-->
      <!--//     var dx = game.input.mousePointer.x + game.camera.x - this.sprite.x;-->
      <!--//     var dy = game.input.mousePointer.y + game.camera.y - this.sprite.y;-->
      <!--//     var angle = Math.atan2(dy, dx) - Math.PI / 2;-->
      <!--//     var dir = (angle - this.sprite.rotation) / (Math.PI * 2);-->
      <!--//     dir -= Math.round(dir);-->
      <!--//     dir = dir * Math.PI * 2;-->
      <!--//     this.sprite.rotation += dir * 0.1;-->
      <!--//-->
      <!--//     // Move forward-->
      <!--//     if (-->
      <!--//       game.input.keyboard.isDown(Phaser.Keyboard.W) ||-->
      <!--//       game.input.keyboard.isDown(Phaser.Keyboard.UP)-->
      <!--//     ) {-->
      <!--//       this.speed_x +=-->
      <!--//         Math.cos(this.sprite.rotation + Math.PI / 2) * this.speed;-->
      <!--//       this.speed_y +=-->
      <!--//         Math.sin(this.sprite.rotation + Math.PI / 2) * this.speed;-->
      <!--//     }-->
      <!--//-->
      <!--//     this.sprite.x += this.speed_x;-->
      <!--//     this.sprite.y += this.speed_y;-->
      <!--//-->
      <!--//     this.speed_x *= this.friction;-->
      <!--//     this.speed_y *= this.friction;-->
      <!--//-->
      <!--//     // Shoot bullet-->
      <!--//     if (game.input.activePointer.leftButton.isDown && !this.shot) {-->
      <!--//       var speed_x = Math.cos(this.sprite.rotation + Math.PI / 2) * 20;-->
      <!--//       var speed_y = Math.sin(this.sprite.rotation + Math.PI / 2) * 20;-->
      <!--//       var bullet = {};-->
      <!--//       bullet.speed_x = speed_x * 0.5 * (Math.random() * 0.2 + 0.9);-->
      <!--//       bullet.speed_y = speed_y * 0.5 * (Math.random() * 0.2 + 0.9);-->
      <!--//       bullet.sprite = game.add.sprite(-->
      <!--//         this.sprite.x + bullet.speed_x,-->
      <!--//         this.sprite.y + bullet.speed_y,-->
      <!--//         "bullet"-->
      <!--//       );-->
      <!--//       bullet_array.push(bullet);-->
      <!--//       // this.shot = true;-->
      <!--//     }-->
      <!--//     if (!game.input.activePointer.leftButton.isDown) this.shot = false;-->
      <!--//-->
      <!--//     // To make player flash when they are hit, set player.spite.alpha = 0-->
      <!--//     if (this.sprite.alpha < 1) {-->
      <!--//       this.sprite.alpha += (1 - this.sprite.alpha) * 0.16;-->
      <!--//     } else {-->
      <!--//       this.sprite.alpha = 1;-->
      <!--//     }-->
      <!--//   }-->
      <!--// };-->

      <!--// function CreateShip(type, x, y, angle) {-->
      <!--//   // type is an int that can be between 1 and 6 inclusive-->
      <!--//   // returns the sprite just created-->
      <!--//   var sprite = game.add.sprite(x, y, "ship" + String(type) + "_1");-->
      <!--//   sprite.rotation = angle;-->
      <!--//   sprite.anchor.setTo(0.5, 0.5);-->
      <!--//   return sprite;-->
      <!--// }-->

      <!--function preload() {-->
        <!--this.load.crossOrigin = "Anonymous"; // Allows us to load the sprites off the CDN server-->
        <!--// this.backgroundColor = "#30A030";-->

        <!--this.load.image("card_table", ASSET_URL + "card_table.jpg");-->
      <!--}-->

      <!--function create() {-->
        <!--var socket = io(); // This triggers the 'connection' event on the server-->

        <!--socket.on('get_shuffled_deck',function(d){-->
          <!--console.log(d);-->
        <!--});-->

        <!--background_sprite = this.add.sprite(400, 300, 'card_table');-->
        <!--background_sprite.setScale(0.6);-->
        <!--// background_sprite.anchor.setTo(0, 0);-->

            <!--// var tile_sprite = game.add.sprite(i * 64, j * 64, "water");-->
            <!--// tile_sprite.anchor.setTo(0.5, 0.5);-->
            <!--// tile_sprite.alpha = 0.5;-->
            <!--// water_tiles.push(tile_sprite);-->



        <!--// // Create water tiles-->
        <!--// for (var i = 0; i <= WORLD_SIZE.w / 64 + 1; i++) {-->
        <!--//   for (var j = 0; j <= WORLD_SIZE.h / 64 + 1; j++) {-->
        <!--//     var tile_sprite = game.add.sprite(i * 64, j * 64, "water");-->
        <!--//     tile_sprite.anchor.setTo(0.5, 0.5);-->
        <!--//     tile_sprite.alpha = 0.5;-->
        <!--//     water_tiles.push(tile_sprite);-->
        <!--//   }-->
        <!--// }-->
        <!--//-->
        <!--// // Create player-->
        <!--// var player_ship_type = String(1);-->
        <!--// player.sprite = game.add.sprite(-->
        <!--//   (Math.random() * WORLD_SIZE.w) / 2 + WORLD_SIZE.w / 2,-->
        <!--//   (Math.random() * WORLD_SIZE.h) / 2 + WORLD_SIZE.h / 2,-->
        <!--//   "ship" + player_ship_type + "_1"-->
        <!--// );-->
        <!--// player.sprite.anchor.setTo(0.5, 0.5);-->

        <!--// this.world.setBounds(0, 0, WORLD_SIZE.w, WORLD_SIZE.h);-->

        <!--// game.camera.x = player.sprite.x - WINDOW_WIDTH / 2;-->
        <!--// game.camera.y = player.sprite.y - WINDOW_HEIGHT / 2;-->
      <!--}-->

      <!--function GameLoop() {-->
        <!--// player.update();-->
        <!--//-->
        <!--// // Move camera with player-->
        <!--// var camera_x = player.sprite.x - WINDOW_WIDTH / 2;-->
        <!--// var camera_y = player.sprite.y - WINDOW_HEIGHT / 2;-->
        <!--// game.camera.x += (camera_x - game.camera.x) * 0.08;-->
        <!--// game.camera.y += (camera_y - game.camera.y) * 0.08;-->
        <!--//-->
        <!--// // Update bullets-->
        <!--// for (var i = 0; i < bullet_array.length; i++) {-->
        <!--//   var bullet = bullet_array[i];-->
        <!--//   bullet.sprite.x += bullet.speed_x;-->
        <!--//   bullet.sprite.y += bullet.speed_y;-->
        <!--//   // Remove if it goes too far off screen-->
        <!--//   if (-->
        <!--//     bullet.sprite.x < -10 ||-->
        <!--//     bullet.sprite.x > WORLD_SIZE.w ||-->
        <!--//     bullet.sprite.y < -10 ||-->
        <!--//     bullet.sprite.y > WORLD_SIZE.h-->
        <!--//   ) {-->
        <!--//     bullet.sprite.destroy();-->
        <!--//     bullet_array.splice(i, 1);-->
        <!--//     i&#45;&#45;;-->
        <!--//   }-->
        <!--// }-->
      <!--}-->
    <!--</script>-->
  </body>
</html>
